!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(){for(;h.length>0;){var a=h.pop(),b=f[a];if(delete f[a],b){for(var c in b)delete b[c];g.push(b)}}j=-1}var e=1,f={},g=[],h=[],i={},j=-1,k={},l={deferResponse:function(){var a=e++;return i[a]=!0,a},provideResponse:function(a,b){if(!i[a])return k;var c=g.pop()||{};return f[a]=c,b||delete i[a],c},hasResult:function(a){return f.hasOwnProperty(a)?(h.push(a),0>j&&(j=setTimeout(d,1)),1):0},getResult:function(a,b){return f[a][b]},cancel:function(a){if(0>a)return 0;l.hasResult(a);var b=i[a];return delete i[a],b?1:0}};b.exports=l},{}],2:[function(a,b,c){!function(){var a=this,b=function(b,c){var d=b.split("."),e=window||a;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(var f;d.length&&(f=d.shift());)d.length||void 0===c?e=e[f]?e[f]:e[f]={}:e[f]=c},c=function(a){var b=chrome.runtime.connect("nmmhkkegccagdldgiimedpiccmgmieda",{}),c=!1;b.onMessage.addListener(function(b){c=!0,"response"in b&&!("errorType"in b.response)?a.success&&a.success(b):a.failure&&a.failure(b)}),b.onDisconnect.addListener(function(){!c&&a.failure&&a.failure({request:{},response:{errorType:"INTERNAL_SERVER_ERROR"}})}),b.postMessage(a)};b("google.payments.inapp.buy",function(a){a.method="buy",c(a)}),b("google.payments.inapp.consumePurchase",function(a){a.method="consumePurchase",c(a)}),b("google.payments.inapp.getPurchases",function(a){a.method="getPurchases",c(a)}),b("google.payments.inapp.getSkuDetails",function(a){a.method="getSkuDetails",c(a)})}()},{}],3:[function(a,b,c){var d=a("./async");b.exports={getMessage:function(){return chrome.i18n.getMessage.apply(this,arguments)},getAcceptedLanguages:function(){var a=d.deferResponse();return chrome.i18n.getAcceptLanguages(function(b){var c=d.provideResponse(a);c.result=b.join(",")}),a},getUILanguage:function(){return chrome.i18n.getUILanguage()}}},{"./async":1}],4:[function(a,b,c){a("./buy");var d,e=a("./async"),f=b.exports={getProducts:function(){var a=e.deferResponse();return google.payments.inapp.getSkuDetails({parameters:{env:"prod"},success:function(b){console.log("Got In-App Products",b.response);var c=e.provideResponse(a);c.error="",c.response=JSON.stringify(b.response),d={};for(var f=b.response.details.inAppProducts,g=0,h=f.length;h>g;g++){var i=f[g];d[i.sku]=i}},failure:function(b){console.error("Getting In-App Products failed",b);var c=e.provideResponse(a);c.error="An unknown error occurred, check the console for more information"}}),a},title:function(a){return d&&d.hasOwnProperty(a)?d[a].localeData[0].title:void 0},description:function(a){return d&&d.hasOwnProperty(a)?d[a].localeData[0].description:void 0},price:function(a){return d&&d.hasOwnProperty(a)?d[a].prices[0].valueMicros/1e6:void 0},priceCurrency:function(a){return d&&d.hasOwnProperty(a)?d[a].prices[0].currencyCode:void 0},priceRegion:function(a){return d&&d.hasOwnProperty(a)?d[a].prices[0].currencyCode:void 0},buy:function(a){var b=e.deferResponse();return google.payments.inapp.buy({parameters:{env:"prod"},sku:a,success:function(a){console.log("Purchase success",arguments);var c=e.provideResponse(b);c.error="",c.errorType="",c.jwt=a.jwt,c.cartId=a.request.cartId,c.orderId=a.response.orderId,c.response=JSON.stringify(a.response)},failure:function(a){console.error("Purchase Failed",a);var c=e.provideResponse(b);switch(c.error="Purchase Failed, check the console for more information",c.errorType=a.response.errorType,c.errorType){case"PURCHASE_CANCELED":c.error="Purchase was cancelled by user"}}}),b},getPurchases:function(){var a=e.deferResponse();return google.payments.inapp.getPurchases({parameters:{env:"prod"},success:function(b){console.log("Got purchases",b.response.details);var c=e.provideResponse(a);c.result=1,c.error="";for(var f in d)c[f]=0;for(var g=b.response.details,h=0,i=g.length;i>h;h++){var j=g[h];c.hasOwnProperty(j.sku)||(c[j.sku]=0),"ACTIVE"==j.state&&(c[j.sku]+=1)}c.response=JSON.stringify(b.response)},failure:function(b){console.error("Getting purchases failed",b);var c=e.provideResponse(a);c.result=0,c.error="Getting purchases failed, check the console for more information"}}),a},consume:function(a){var b=e.deferResponse();return google.payments.inapp.consumePurchase({parameters:{env:"prod"},sku:a,success:function(c){console.log("Consumed product",a,c);var d=e.provideResponse(b);d.result=1,d.error=""},failure:function(c){console.error("Failed to consume product",a,c);var d=e.provideResponse(b);d.result=0,d.error="Failed to consume product, check the console for more information"}}),b}};f.getProducts()},{"./async":1,"./buy":2}],5:[function(a,b,c){function d(a,b){g||(b=e),window[a]=b}function e(){return 0}var f={async:a("./async"),utils:a("./utils"),runtime:a("./runtime"),storage:a("./storage"),i18n:a("./i18n"),license:a("./license"),inapp:a("./inapp")},g=f.utils.isApp();d("ChromeIsApp",f.utils.isApp),d("ChromePackageLoad",f.utils.packageLoad),d("ChromeHasResult",f.async.hasResult),d("ChromeGetResult",f.async.getResult),d("ChromeCancel",f.async.cancel),d("ChromeRuntimeGetManifest",f.runtime.getManifest),d("ChromeRuntimeRequestUpdateCheck",f.runtime.requestUpdateCheck),d("ChromeRuntimeReload",f.runtime.reload),d("ChromeStorageBegin",f.storage.begin),d("ChromeStorageGet",f.storage.get),d("ChromeStorageSet",f.storage.set),d("ChromeStorageRemove",f.storage.remove),d("ChromeStorageEnd",f.storage.end),d("ChromeStorageGetAll",f.storage.getAll),d("ChromeStorageClear",f.storage.clear),d("ChromeStorageOnChanged",f.storage.onChanged),d("ChromeI18nGetMessage",f.i18n.getMessage),d("ChromeI18nGetAcceptedLanguages",f.i18n.getAcceptedLanguages),d("ChromeI18nGetUILanguage",f.i18n.getUILanguage),d("ChromeLicenseLoad",f.license.load),d("ChromeInAppGetProducts",f.inapp.getProducts),d("ChromeInAppTitle",f.inapp.title),d("ChromeInAppDescription",f.inapp.description),d("ChromeInAppPrice",f.inapp.price),d("ChromeInAppPriceCurrency",f.inapp.priceCurrency),d("ChromeInAppPriceRegion",f.inapp.priceRegion),d("ChromeInAppBuy",f.inapp.buy),d("ChromeInAppGetPurchases",f.inapp.getPurchases),d("ChromeInAppConsume",f.inapp.consume)},{"./async":1,"./i18n":3,"./inapp":4,"./license":6,"./runtime":7,"./storage":8,"./utils":9}],6:[function(a,b,c){var d=a("./async"),e=a("./utils"),f=a("./xhrWithAuth"),g="https://www.googleapis.com/chromewebstore/v1.1/userlicenses/";b.exports={load:function(a){var b=d.deferResponse();return f("GET",g+chrome.runtime.id,!!a,function(a,c,f){var g=d.provideResponse(b);if(g.result=!1,g.error="",g.createdTime=0,g.accessLevel="NONE",null!=a)console.error("License check failed",a),g.error=a;else if(200===c){console.log("Received response from license server",a,c,f);try{f=JSON.parse(f)}catch(h){return g.error="Invalid response from license server"}if(g.result=f.result?1:0,f.createdTime){var i=.001*f.createdTime;g.createdTime=e.timestampToDatetime(i)}f.accessLevel&&(g.accessLevel=f.accessLevel)}else g.error="License request got a "+c+" response"}),b}}},{"./async":1,"./utils":9,"./xhrWithAuth":10}],7:[function(a,b,c){var d=a("./async");b.exports={getManifest:function(){return JSON.stringify(chrome.runtime.getManifest(),null,"	")},reload:function(){return chrome.runtime.reload()},requestUpdateCheck:function(){var a=d.deferResponse();return chrome.runtime.requestUpdateCheck(function(b,c){var e=d.provideResponse(a);e.status=b,e.version=c&&c.version?c.version:""}),a}}},{"./async":1}],8:[function(a,b,c){function d(a){if(!chrome.storage){var b=h.provideResponse(a);return b.error="Missing 'storage' permission, no storage areas available",b.result=0,!1}return!0}function e(a){return s==o?(s=a,!0):s==a?1:(console.error("Chrome storage ignoring command, you must not mix get/set/remove statements within a single begin/end block."),0)}function f(){for(var a in l)delete l[a];m.length=0,s=o,k=""}function g(a){return function(b){var c=h.provideResponse(a);if(chrome.runtime.lastError)c.error=chrome.runtime.lastError.message,c.result=0;else{c.error="",c.result=1;for(var d in b)c[d]=b[d]}}}var h=a("./async"),i="sync",j="local",k="",l={},m=[],n=0,o=0,p=1,q=2,r=3,s=o;b.exports={begin:function(a){return!chrome.storage||a!=i&&a!=j?0:(f(),k=a,1)},get:function(a){return e(p)?(m.push(a),1):0},set:function(a,b){return e(q)?(l[a]=b,1):0},remove:function(a){return e(r)?(m.push(a),1):0},end:function(){var a=h.deferResponse();if(d(a)&&""!=k)switch(s){case p:chrome.storage[k].get(m,g(a));break;case q:chrome.storage[k].set(l,function(){var b=h.provideResponse(a);chrome.runtime.lastError?(b.error=chrome.runtime.lastError.message,b.result=0):(b.error="",b.result=1)});break;case r:chrome.storage[k].remove(m,function(b){var c=h.provideResponse(a);chrome.runtime.lastError?(c.error=chrome.runtime.lastError.message,c.result=0):(c.error="",c.result=1)});break;case o:console.warn("Chrome storage cannot commit changes, no changes were made")}return f(),a},getAll:function(a){var b=h.deferResponse();return d(b)&&chrome.storage[a].get(null,g(b)),b},clear:function(a){var b=h.deferResponse();return d(b)&&chrome.storage[a].clear(function(){var a=h.provideResponse(b);chrome.runtime.lastError?(a.error=chrome.runtime.lastError.message,a.result=0):(a.error="",a.result=1)}),b},onChanged:function(){return console.log("On Changed"),0==n&&chrome.storage&&(console.log("Adding storage onchanged listener"),n=h.deferResponse(),chrome.storage.onChanged.addListener(function(a,b){console.log("Storage changed",a,b);var c=h.provideResponse(n);c.area=b;for(var d in a)c[d]=a[d].newValue})),n}}},{"./async":1}],9:[function(a,b,c){var d=a("./async");b.exports={isApp:function(){return chrome&&chrome.app&&chrome.app.window?1:0},packageLoad:function(a){function b(a,e){if(console.log("Find file",a,e),e.length>1){var g=e.shift();console.log("Entering directory named",g),a.getDirectory(g,{create:!1},function(a){b(a,e)},c)}else a.getFile(e[0],{create:!1},function(a){console.log("Got file entry",a),a.file(function(a){console.log("Got file",a);var b=new FileReader;b.onerror=c,b.onload=function(a){console.log("Loaded bundled file successfully",a);var b=d.provideResponse(f);b.result=a.target.result,b.error=""},b.readAsText(a)})},c)}function c(a){console.error("Getting included file failed",a);var b=d.provideResponse(f);b.result="",b.error=e.message}var f=d.deferResponse();return chrome.runtime.getPackageDirectoryEntry(function(c){console.log("Got package directory entry",c);var d=a.split("/");b(c,d)}),f},datetimeToTimestamp:function(a){return 864e3*(a-25569)},timestampToDatetime:function(a){return 25569+1157407e-11*a}}},{"./async":1}],10:[function(a,b,c){b.exports=function(a,b,c,d){function e(){console.log("Calling chrome.identity.getAuthToken",c),chrome.identity?chrome.identity.getAuthToken({interactive:c},function(a){return chrome.runtime.lastError?void d(chrome.runtime.lastError.message):(console.log("chrome.identity.getAuthToken returned a token",a),i=a,void f())}):d("Missing 'identity' permission in manifest")}function f(){var c=new XMLHttpRequest;c.open(a,b),c.setRequestHeader("Authorization","Bearer "+i),c.onload=g,c.send()}function g(){401==this.status&&h?(h=!1,chrome.identity.removeCachedAuthToken({token:i},e)):d(null,this.status,this.response)}var h=!0,i=null;e()}},{}]},{},[5]);